{"mappings":"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","sources":["public/js/index.js","public/js/login.js","public/js/alert.js","public/js/register.js","public/js/newDonation.js","public/js/newOrganization.js"],"sourcesContent":["const loginForm = document.querySelector('#login-form');\r\nconst registerForm = document.querySelector('#register-form');\r\nconst donateForm = document.querySelector('#donate-form');\r\nconst createOrganizationForm = document.querySelector(\r\n  '#organization-form'\r\n);\r\n\r\nconst logoutBtn = document.querySelector('#logout-btn');\r\n\r\nimport { loginUser, logoutUser } from './login.js';\r\nimport { registerUser } from './register.js';\r\nimport { createDonation } from './newDonation.js';\r\nimport { createOrganization } from './newOrganization.js';\r\n\r\nloginForm?.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  const email = loginForm.querySelector('#email').value;\r\n  const password = loginForm.querySelector('#password').value;\r\n  loginUser(email, password);\r\n});\r\n\r\nregisterForm?.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  const fname = registerForm.querySelector('#fname').value;\r\n  const lname = registerForm.querySelector('#lname').value;\r\n  const email = registerForm.querySelector('#email').value;\r\n  const password = registerForm.querySelector('#password').value;\r\n\r\n  registerUser({ fname, lname, email, password });\r\n});\r\n\r\ndonateForm?.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  const name = donateForm.querySelector('#donation-name').value;\r\n  const image = donateForm.querySelector('#donation-image').value;\r\n  const description = donateForm.querySelector(\r\n    '#donation-description'\r\n  ).value;\r\n\r\n  createDonation(name, image, description);\r\n});\r\n\r\ncreateOrganizationForm?.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  const name = createOrganizationForm.querySelector('#name').value;\r\n  const image = createOrganizationForm.querySelector('#image').value;\r\n  const description =\r\n    createOrganizationForm.querySelector('#description').value;\r\n\r\n  createOrganization(name, image, description);\r\n});\r\n\r\nlogoutBtn?.addEventListener('click', logoutUser);\r\n","import { showAlert } from './alert.js';\r\n\r\nexport const loginUser = async (email, password) => {\r\n  try {\r\n    const res = await fetch('/api/auth/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password }),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (data.status === 'success') {\r\n      showAlert('success', data.message);\r\n\r\n      window.setTimeout(() => {\r\n        location.assign('/home');\r\n      }, 1500);\r\n    } else {\r\n      showAlert('error', data.message);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Something went wrong!');\r\n    console.log(`An error occurred: ${err.message}`);\r\n  }\r\n};\r\n\r\nexport const logoutUser = async () => {\r\n  try {\r\n    const res = await fetch('/api/auth/logout');\r\n\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (data.status === 'success') location.reload(true);\r\n  } catch (err) {\r\n    showAlert('error', 'Something went wrong!');\r\n    console.log(`An error occurred: ${err.message}`);\r\n  }\r\n};\r\n","export const showAlert = (type, msg) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document\r\n    .querySelector('body')\r\n    .insertAdjacentHTML('afterbegin', markup);\r\n  window.setTimeout(hideAlert, 5000);\r\n};\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n","import { showAlert } from './alert.js';\r\n\r\nexport const registerUser = async ({\r\n  fname,\r\n  lname,\r\n  email,\r\n  password,\r\n}) => {\r\n  try {\r\n    const res = await fetch('/api/auth/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ fname, lname, email, password }),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (data.status === 'success') {\r\n      showAlert('success', data.message);\r\n\r\n      window.setTimeout(() => {\r\n        location.assign('/home');\r\n      }, 1500);\r\n    } else {\r\n      showAlert('error', data.message);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Something went wrong!');\r\n    console.log(`An error occurred: ${err.message}`);\r\n  }\r\n};\r\n","import { showAlert } from './alert';\r\n\r\nexport const createDonation = async (name, image, description) => {\r\n  try {\r\n    const res = await fetch('/api/donations', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ name, image, description }),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n\r\n    const data = await res.json();\r\n    console.log(data);\r\n\r\n    if (data.status === 'success') {\r\n      showAlert('success', data.message);\r\n\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    } else {\r\n      showAlert('error', data.message);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Something went wrong!');\r\n    console.log(`An error occurred: ${err.message}`);\r\n  }\r\n};\r\n","import { showAlert } from './alert.js';\r\n\r\nexport const createOrganization = async (\r\n  name,\r\n  image,\r\n  description\r\n) => {\r\n  console.log(name, image, description);\r\n  const res = await fetch('/api/organizations', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ name, image, description }),\r\n    headers: { 'Content-Type': 'application/json' },\r\n  });\r\n\r\n  const data = await res.json();\r\n  console.log(data);\r\n\r\n  if (data.status === 'success') {\r\n    showAlert('success', data.message);\r\n\r\n    window.setTimeout(() => {\r\n      location.assign('/organizations');\r\n    }, 1500);\r\n  } else {\r\n    showAlert('error', data.message);\r\n  }\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../../"}