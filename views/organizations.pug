extends layout

block content
    //- organizations list page
    div#organization-list
        h1 Organizations

        div#organizations
            if organizations.length > 0
                each organization in organizations
                    div.organization
                        div.organization-image
                            img(src=organization.image, alt=organization.name)
                        div.organization-info
                            h2= organization.name
                            p= organization.description
                            - const date = new Date(organization.createdAt)
                            - const formattedDate = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })
                            p= `Created on ${formattedDate}`
                            p= `Donations: ${organization.assignedDonations.length}`
                            a.btn.btn-primary(href=`/organizations/${organization.slug}`) View Details
            else
                p There are no organizations yet
       


//- const organizationSchema = mongoose.Schema(
//-   {
//-     name: {
//-       type: String,
//-       required: [true, 'Please provide a organization name'],
//-     },
//-     description: {
//-       type: String,
//-       required: [true, 'Please provide a organization description'],
//-     },
//-     image: {
//-       type: String,
//-     },
//-     assignedDonations: [
//-       {
//-         type: mongoose.Schema.ObjectId,
//-         ref: 'Donation',
//-       },
//-     ],
//-     slug: String,
//-     createdAt: {
//-       type: Date,
//-       default: Date.now,
//-       required: true,
//-     },
//-   },
//-   {
//-     toJSON: { virtuals: true },
//-     toObject: { virtuals: true },
//-   }
//- );